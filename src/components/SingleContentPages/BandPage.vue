<template>
	<div id="band_page">
		<detail-page
			contentType="band"
			:id="band._id"
			:loading="loading"
			:image="band.image ?band.image[2] :null"
			:submitStatus="submitStatus"
			v-on:edit="openDialog('editBandDialog')">
			<div slot="title">
				<h2 class="title" v-if="band.name">{{band.name}}</h2>
				<h4 class="genre">
					<span v-for="(genre, index) in band.genre" :key="index"> {{genre}} </span>
				</h4>
			</div>

			<md-tabs class="tab-navigation" md-dynamic-height v-on:change="handleTabChange" :md-navigation="false">
				<md-tab md-label="Information" :md-active="activeTab === 0" class="information-tab">
					<div class="detail-info address">
						<div class="category">
							<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"> <g><g><path d="M346.769,185.267c-22.703,0-41.173,18.47-41.173,41.173c0,22.703,18.47,41.172,41.173,41.172 c22.702,0,41.173-18.47,41.173-41.172C387.942,203.738,369.472,185.267,346.769,185.267z M346.769,252.63 c-14.442,0-26.191-11.749-26.191-26.19c0-14.441,11.749-26.191,26.191-26.191s26.191,11.749,26.191,26.191 S361.21,252.63,346.769,252.63z" fill="#ff5252"/></g></g><g><g><path d="M504.509,394.329c4.138,0,7.491-3.354,7.491-7.491V106.622c0-4.137-3.353-7.491-7.491-7.491H211.742l-99.217-62.398 c-0.06-0.038-0.124-0.064-0.185-0.099c-0.062-0.037-0.118-0.082-0.181-0.117c-0.088-0.049-0.181-0.082-0.271-0.126 c-0.151-0.076-0.301-0.148-0.455-0.213c-0.155-0.065-0.312-0.122-0.469-0.176c-0.158-0.054-0.316-0.105-0.475-0.149 c-0.159-0.043-0.319-0.078-0.479-0.111c-0.164-0.033-0.328-0.063-0.492-0.084c-0.161-0.021-0.321-0.035-0.482-0.046 c-0.168-0.011-0.335-0.019-0.503-0.019c-0.161,0-0.32,0.008-0.48,0.018c-0.169,0.011-0.336,0.025-0.503,0.048 c-0.159,0.021-0.317,0.05-0.474,0.081c-0.166,0.033-0.331,0.069-0.494,0.114c-0.158,0.043-0.312,0.093-0.466,0.146 c-0.16,0.055-0.318,0.112-0.474,0.178c-0.154,0.064-0.304,0.137-0.453,0.212c-0.09,0.045-0.183,0.078-0.271,0.127 c-0.063,0.035-0.119,0.08-0.181,0.117c-0.061,0.036-0.125,0.062-0.185,0.099L3.503,100.28c-2.18,1.37-3.503,3.766-3.503,6.34 v29.128c0,4.137,3.353,7.491,7.491,7.491c4.137,0,7.491-3.354,7.491-7.491v-24.99l86.064-54.125v77.524l-86.064,54.126v-22.569 c0-4.137-3.354-7.491-7.491-7.491c-4.138,0-7.491,3.354-7.491,7.491v303.2c0,2.727,1.481,5.239,3.868,6.557 c1.13,0.624,2.377,0.934,3.623,0.934c1.387,0,2.772-0.385,3.988-1.15l97.058-61.039l97.057,61.039 c0.034,0.021,0.071,0.036,0.105,0.056c0.244,0.148,0.495,0.284,0.756,0.404c0.039,0.018,0.077,0.039,0.116,0.056 c0.293,0.129,0.595,0.239,0.906,0.33c0.053,0.016,0.107,0.027,0.16,0.041c0.253,0.068,0.51,0.122,0.773,0.164 c0.077,0.012,0.154,0.026,0.232,0.035c0.309,0.039,0.621,0.065,0.941,0.065h294.926c4.138,0,7.491-3.354,7.491-7.491v-52.112 c0-4.137-3.353-7.491-7.491-7.491s-7.491,3.354-7.491,7.491v44.621h-91.77V316.858h91.77v69.981 C497.018,390.975,500.371,394.329,504.509,394.329z M14.982,205.982l86.025-54.101v25.61l-86.025,54.101V205.982z M14.982,334.654 l86.025-54.101v25.609l-86.025,54.101V334.654z M101.046,401.229l-86.064,54.125v-77.391l86.064-54.126V401.229z M101.046,262.831 l-86.064,54.125V249.29l86.064-54.126V262.831z M116.028,151.906l86.026,54.101v25.61l-86.026-54.101V151.906z M116.028,280.578 l86.026,54.101v25.61l-86.026-54.101V280.578z M202.092,455.354l-86.064-54.125v-77.343l86.064,54.125V455.354z M202.092,317.004 l-86.064-54.125v-67.664l86.064,54.125V317.004z M202.092,188.333l-86.064-54.125V56.634l86.064,54.125V188.333z M497.018,258.678 H433.67c3.169-10.446,5.035-21.25,5.035-32.238c0-5.916-0.568-11.7-1.641-17.307h59.954V258.678z M497.018,194.151h-64.171 c-3.927-10.435-9.698-19.973-16.917-28.214h81.088V194.151z M405.248,114.113h91.77v36.841h-91.77V114.113z M362.05,114.112 h28.215v31.35c-8.668-4.674-18.168-7.995-28.215-9.682V114.112z M255.473,237.662h-38.399v-28.214h39.313 c-1.026,5.541-1.556,11.223-1.556,16.993C254.831,230.205,255.06,233.947,255.473,237.662z M217.074,252.644h41.12 c6.62,26.457,22.102,50.866,38.01,70.413h-79.13V252.644z M217.074,381.236h64.952l-64.952,64.952V381.236z M347.068,461.424 h-62.952l62.952-62.952V461.424z M390.267,461.423H362.05v0v-81.037c0-3.03-1.825-5.761-4.625-6.921s-6.021-0.518-8.164,1.624 l-86.333,86.333h-39.901l82.381-82.381c2.142-2.142,2.783-5.365,1.623-8.163c-1.159-2.8-3.891-4.625-6.921-4.625h-83.037v-28.214 h92.185c16.871,18.129,31.48,29.576,32.925,30.694c1.35,1.044,2.967,1.566,4.585,1.566s3.234-0.522,4.585-1.566 c1.614-1.249,19.648-15.379,38.914-37.317V461.423z M346.768,353.107c-15.474-13.141-65.279-58.786-75.214-109.403 c-0.007-0.036-0.014-0.072-0.021-0.107c-1.107-5.67-1.721-11.402-1.721-17.159c0-7.55,1.09-14.912,3.163-21.933 c0.127-0.349,0.234-0.705,0.309-1.076c3.789-12.172,10.605-23.265,20.079-32.398c2.977-2.872,3.064-7.614,0.193-10.592 s-7.613-3.065-10.592-0.194c-10.142,9.777-17.734,21.437-22.459,34.218h-43.43v-80.352h129.994v20.394 c-0.101,0-0.2-0.004-0.301-0.004c-12.409,0-24.45,2.432-35.789,7.227c-3.81,1.612-5.593,6.008-3.98,9.817 c1.611,3.811,6.006,5.591,9.817,3.981c9.483-4.011,19.56-6.045,29.952-6.045c42.433,0,76.955,34.522,76.955,76.955 C423.723,283.619,363.984,338.486,346.768,353.107z M412.862,301.875c5.78-8.855,11.056-18.316,15.312-28.215h68.844v28.215 H412.862z" fill="#ff5252"/></g></g></svg>
							<h4>Origin</h4>
						</div>
						<span class="category-content">
							<h4>{{band.origin.city}}</h4>
							<p v-if="band.origin.county">{{band.origin.county}}</p>
							<p>{{band.origin.administrative}}</p>
							<p>{{band.origin.country}}</p>
						</span>
					</div>

					<div class="detail-info additional-information" v-if="band.facebookUrl || band.website || band.soundcloudUrl || band.bandcampUrl">
						<div class="category">
							<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><g><g><path d="M437.019,74.981C388.667,26.629,324.38,0,256,0C196.696,0,138.885,20.747,93.213,58.417    c-3.672,3.027-4.193,8.458-1.165,12.129c3.029,3.672,8.461,4.191,12.13,1.164C146.77,36.58,200.688,17.232,256,17.232    c131.657,0,238.767,107.11,238.766,238.768c0,59.105-21.769,115.828-61.299,159.722c-3.183,3.536-2.899,8.984,0.638,12.168    c1.647,1.483,3.708,2.214,5.764,2.214c2.356,0,4.704-0.962,6.405-2.851c42.385-47.062,65.727-107.882,65.727-171.254    C511.999,187.62,485.371,123.333,437.019,74.981z" fill="#ff5252"/></g></g><g><g><path d="M421.677,439.89c-3.063-3.642-8.497-4.114-12.14-1.051c-42.901,36.065-97.429,55.927-153.538,55.927    c-131.657,0-238.767-107.11-238.767-238.767c0-59.932,22.307-117.247,62.813-161.384c3.218-3.506,2.985-8.956-0.522-12.174    c-3.507-3.218-8.959-2.982-12.174,0.523c-43.432,47.325-67.35,108.777-67.35,173.036c0,68.381,26.629,132.668,74.981,181.02    C123.333,485.371,187.621,512,256,512c60.16,0,118.625-21.297,164.626-59.97C424.269,448.968,424.739,443.533,421.677,439.89z" fill="#ff5252"/></g></g><g><g><path d="M289.368,189.061h-66.735c-4.76,0-8.616,3.858-8.616,8.616v225.799c0,4.758,3.857,8.616,8.616,8.616h66.735    c4.76,0,8.616-3.858,8.616-8.617V197.677C297.984,192.918,294.127,189.061,289.368,189.061z M280.753,414.86H231.25V206.293    h49.503V414.86z" fill="#ff5252"/></g></g><g><g><path d="M256,78.701c-26.429,0-47.93,21.502-47.93,47.93c0,26.429,21.501,47.93,47.93,47.93s47.93-21.502,47.93-47.93    C303.93,100.202,282.429,78.701,256,78.701z M256,157.329c-16.927,0-30.698-13.771-30.698-30.698    c0-16.927,13.772-30.698,30.698-30.698c16.927,0,30.698,13.771,30.698,30.698C286.698,143.558,272.927,157.329,256,157.329z" fill="#ff5252"/></g></g></svg>
							<h4>Additional <br> Information</h4>
						</div>
						<div class="category-content">
							<a :href="band.facebookUrl" target="_blank" class="facebook" v-if="band.facebookUrl">
								<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path d="M469.779,0H110.63c-4.428,0-8.017,3.589-8.017,8.017c0,4.427,3.588,8.017,8.017,8.017h359.148    c14.441,0,26.188,11.748,26.188,26.188v427.557c0,14.44-11.747,26.188-26.188,26.188H323.875V392.818    c0-4.427-3.588-8.017-8.017-8.017c-4.428,0-8.017,3.589-8.017,8.017v103.148h-52.376v-188.66c0-4.427-3.588-8.017-8.017-8.017    H212.71v-52.376h34.739c4.428,0,8.017-3.589,8.017-8.017v-51.307c0-52.161,42.436-94.597,94.597-94.597h60.393v52.376h-60.393    c-23.28,0-42.221,18.941-42.221,42.221v51.307c0,4.427,3.588,8.017,8.017,8.017h94.597v52.376h-94.597    c-4.428,0-8.017,3.589-8.017,8.017v51.307c0,4.427,3.588,8.017,8.017,8.017c4.428,0,8.017-3.589,8.017-8.017v-43.29h94.597    c4.428,0,8.017-3.589,8.017-8.017v-68.409c0-4.427-3.588-8.017-8.017-8.017h-94.597v-43.29c0-14.44,11.747-26.188,26.188-26.188    h68.409c4.428,0,8.017-3.589,8.017-8.017V84.977c0-4.427-3.588-8.017-8.017-8.017h-68.409c-61.002,0-110.63,49.629-110.63,110.63    v43.29h-34.739c-4.428,0-8.017,3.589-8.017,8.017v68.409c0,4.427,3.588,8.017,8.017,8.017h34.739v180.643H42.221    c-14.441,0-26.188-11.748-26.188-26.188V42.221c0-14.44,11.747-26.188,26.188-26.188h34.205c4.428,0,8.017-3.589,8.017-8.017    C84.443,3.589,80.854,0,76.426,0H42.221C18.941,0,0,18.941,0,42.221v427.557C0,493.059,18.941,512,42.221,512h427.557    C493.059,512,512,493.059,512,469.779V42.221C512,18.941,493.059,0,469.779,0z" fill="#fafafa"/></svg>
								<h4>Facebook</h4>
							</a>
							<a :href="band.website" target="_blank" class="website" v-if="band.website">
								<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path d="m50.675781 119.070312c-11.652343-6.726562-26.605469-2.722656-33.332031 8.929688-6.730469 11.652344-2.722656 26.605469 8.929688 33.335938 9.332031 5.386718 20.839843 3.921874 28.550781-3.035157l31.398437 18.128907c-26.003906 49.738281-26.042968 109.328124 0 159.144531l-31.390625 18.125c-7.648437-6.898438-19.171875-8.449219-28.558593-3.03125-11.679688 6.742187-15.675782 21.652343-8.933594 33.335937 6.730468 11.652344 21.683594 15.65625 33.335937 8.929688 9.382813-5.417969 13.804688-16.175782 11.652344-26.246094l31.382813-18.117188c.117187.222657.238281.441407.375.65625 30.828124 47.835938 82.054687 76.542969 137.457031 78.929688v36.226562c-9.796875 3.171876-16.902344 12.378907-16.902344 23.214844 0 13.457032 10.949219 24.402344 24.402344 24.402344 13.457031 0 24.402343-10.945312 24.402343-24.402344 0-10.835937-7.105468-20.042968-16.902343-23.214844v-36.226562c55.09375-2.371094 106.460937-30.832031 137.457031-78.929688.136719-.214843.261719-.433593.375-.65625l31.382812 18.117188c-2.152343 10.070312 2.269532 20.824219 11.652344 26.246094 11.667969 6.734375 26.613282 2.707031 33.335938-8.933594 6.742187-11.675781 2.75-26.589844-8.933594-33.332031-9.382812-5.417969-20.910156-3.867188-28.554688 3.027343l-31.394531-18.121093c17.875-34.1875 23.050781-71.992188 17.226563-107.589844-.667969-4.089844-4.53125-6.867187-8.613282-6.191406-4.085937.667969-6.859374 4.523437-6.1875 8.613281.976563 5.976562 1.605469 12.039062 1.894532 18.09375h-45.996094c-.589844-21.636719-3.730469-42.574219-9.195312-61.9375 12.644531-2.890625 24.027343-6.335938 33.742187-10.273438 4.128906 7.09375 7.503906 14.078126 10.195313 20.71875 1.554687 3.835938 5.925781 5.691407 9.765624 4.136719 3.839844-1.554687 5.691407-5.925781 4.140626-9.765625-2.074219-5.121094-4.40625-10.105468-6.9375-14.96875l31.367187-18.109375c7.714844 6.957031 19.226563 8.417969 28.550781 3.035157 11.652344-6.730469 15.660156-21.683594 8.933594-33.335938-6.730469-11.652344-21.683594-15.65625-33.335938-8.929688-9.449218 5.453126-13.824218 16.21875-11.660156 26.25l-31.332031 18.085938c-29.492187-46.304688-80.164063-77.089844-137.875-79.566406v-36.222656c9.796875-3.171876 16.898437-12.378907 16.898437-23.214844 0-13.457032-10.945312-24.402344-24.398437-24.402344-13.457031 0-24.402344 10.945312-24.402344 24.402344 0 10.835937 7.105469 20.042968 16.902344 23.214844v36.226562c-55.429687 2.386719-106.644531 31.121094-137.457031 78.933594-.136719.210937-.261719.429687-.375.65625l-31.375-18.117188c2.160156-10.027344-2.214844-20.789062-11.664063-26.246094zm384.238281 12.992188c7.261719-4.195312 15.933594 2.535156 13.78125 10.570312-2.160156 8.0625-13.042968 9.5-17.222656 2.269532-2.597656-4.496094-1.058594-10.242188 3.441406-12.839844zm-405.519531 10.570312c-1.59375-5.941406 2.871094-11.835937 9.09375-11.835937 7.21875 0 11.734375 7.859375 8.128907 14.105469-4.175782 7.230468-15.0625 5.796875-17.222657-2.269532zm345.257813 193.046876c-9.695313-3.921876-21.050782-7.355469-33.660156-10.238282 5.464843-19.367187 8.605468-40.300781 9.195312-61.9375h46.003906c-1.355468 26.160156-8.652344 50.332032-21.539062 72.175782zm-271.214844-159.355469c9.695312 3.921875 21.050781 7.355469 33.660156 10.238281-5.464844 19.363281-8.605468 40.300781-9.195312 61.9375h-46.003906c1.300781-25.953125 8.601562-50.230469 21.539062-72.175781zm75.589844-65.746094c-16.933594 16.78125-29.304688 39.109375-37.371094 61.675781-11.082031-2.484375-21.117188-5.410156-29.804688-8.734375 17.554688-23.980469 40.316407-41.703125 67.175782-52.941406zm52.515625-11.421875v82.671875c-26.949219-.363281-52.601563-2.667969-75.007813-6.609375 12.90625-34.828125 38.488282-71.390625 75.007813-76.0625zm-103.640625 164.34375c.589844 21.636719 3.726562 42.574219 9.191406 61.941406-12.605469 2.878906-23.960938 6.3125-33.660156 10.238282-13.023438-22.097657-20.179688-45.964844-21.535156-72.179688zm103.640625 149.34375c-36.550781-4.671875-62.105469-41.242188-75.007813-76.0625 22.40625-3.9375 48.058594-6.246094 75.007813-6.605469zm-52.515625-11.421875c-28.042969-11.730469-50.308594-29.949219-67.175782-52.941406 8.6875-3.320313 18.722657-6.246094 29.804688-8.734375 8.066406 22.566406 20.445312 44.902344 37.371094 61.675781zm187.210937-52.941406c-16.679687 23.023437-40.074219 41.710937-67.175781 52.941406 16.921875-16.769531 29.300781-39.09375 37.371094-61.675781 11.082031 2.488281 21.117187 5.414062 29.804687 8.734375zm-119.695312 64.363281v-82.667969c26.949219.359375 52.605469 2.667969 75.011719 6.605469-12.90625 34.828125-38.488282 71.394531-75.011719 76.0625zm-15-97.667969c-28.578125.378907-55.875 2.914063-79.714844 7.253907-5.277344-18.332032-8.328125-38.257813-8.921875-58.929688h88.636719zm-88.636719-66.675781c.59375-20.671875 3.644531-40.597656 8.921875-58.929688 23.839844 4.339844 51.136719 6.878907 79.714844 7.257813v51.671875zm103.636719-149.34375c36.550781 4.675781 62.109375 41.246094 75.011719 76.0625-22.40625 3.9375-48.0625 6.246094-75.011719 6.609375zm-203.367188 280.785156c-4.488281 2.589844-10.25 1.046875-12.84375-3.441406-2.597656-4.496094-1.058593-10.242188 3.441407-12.839844 4.488281-2.59375 10.25-1.046875 12.839843 3.4375 2.601563 4.5 1.0625 10.246094-3.4375 12.84375zm195.867188 117.058594c-5.183594 0-9.398438-4.21875-9.398438-9.402344 0-5.179687 4.214844-9.398437 9.398438-9.398437 5.183593 0 9.402343 4.21875 9.402343 9.398437 0 5.183594-4.21875 9.402344-9.402343 9.402344zm200.585937-134.605469c7.21875 0 11.734375 7.863281 8.128906 14.105469-4.183593 7.246094-15.066406 5.78125-17.222656-2.265625-1.601562-5.984375 2.910156-11.839844 9.09375-11.839844zm-104.445312-113.894531h-30.472656c-4.144532 0-7.5 3.359375-7.5 7.5 0 4.144531 3.355468 7.5 7.5 7.5h30.472656c-.59375 20.671875-3.644532 40.597656-8.921875 58.929688-23.84375-4.339844-51.136719-6.875-79.714844-7.253907v-51.675781h23.160156c4.144531 0 7.5-3.355469 7.5-7.5 0-4.140625-3.355469-7.5-7.5-7.5h-23.160156v-51.671875c28.578125-.378906 55.871094-2.917969 79.714844-7.257813 5.277343 18.332032 8.328125 38.257813 8.921875 58.929688zm1.25-76.246094c-8.050782-22.527344-20.453125-44.957031-37.503906-61.800781 26.609374 10.925781 49.988281 29.097656 67.386718 53.039063-8.703125 3.332031-18.769531 6.269531-29.882812 8.761718zm-97.390625-157.253906c5.183593 0 9.402343 4.21875 9.402343 9.402344s-4.21875 9.402344-9.402343 9.402344c-5.183594 0-9.398438-4.21875-9.398438-9.402344s4.214844-9.402344 9.398438-9.402344zm0 0" fill="#fafafa"/><path d="m72.519531 106.050781c31.980469-35.496093 73.445313-59.449219 119.910157-69.28125 4.054687-.855469 6.644531-4.835937 5.789062-8.890625-.859375-4.050781-4.851562-6.644531-8.890625-5.785156-49.589844 10.488281-93.835937 36.050781-127.953125 73.914062-2.773438 3.078126-2.527344 7.820313.550781 10.59375 3.074219 2.773438 7.816407 2.527344 10.59375-.550781zm0 0" fill="#fafafa"/><path d="m405.570312 106.050781c2.777344 3.082031 7.519532 3.320313 10.59375.550781 3.078126-2.773437 3.324219-7.515624.550782-10.59375-34.117188-37.863281-78.363282-63.425781-127.953125-73.914062-4.039063-.855469-8.03125 1.734375-8.890625 5.785156-.855469 4.054688 1.734375 8.035156 5.785156 8.890625 46.46875 9.832031 87.933594 33.785157 119.914062 69.28125zm0 0" fill="#fafafa"/><path d="m457.035156 334.710938c3.949219 1.28125 8.175782-.882813 9.449219-4.816407 15.476563-47.660156 15.472656-100.152343-.007813-147.8125-1.277343-3.9375-5.511718-6.09375-9.449218-4.816406-3.941406 1.28125-6.097656 5.511719-4.816406 9.453125 14.507812 44.667969 14.511718 93.871094.007812 138.546875-1.28125 3.9375.878906 8.167969 4.816406 9.445313zm0 0" fill="#fafafa"/><path d="m405.570312 405.953125c-31.980468 35.492187-73.445312 59.449219-119.914062 69.277344-4.050781.859375-6.640625 4.839843-5.785156 8.890625.859375 4.054687 4.839844 6.644531 8.890625 5.785156 49.589843-10.488281 93.835937-36.046875 127.953125-73.914062 2.773437-3.078126 2.527344-7.820313-.550782-10.589844-3.078124-2.773438-7.820312-2.53125-10.59375.550781zm0 0" fill="#fafafa"/><path d="m72.515625 405.953125c-2.769531-3.078125-7.515625-3.324219-10.589844-.550781-3.078125 2.769531-3.324219 7.511718-.550781 10.589844 34.117188 37.867187 78.363281 63.425781 127.953125 73.914062 4.050781.859375 8.03125-1.730469 8.890625-5.785156.855469-4.050782-1.734375-8.03125-5.789062-8.890625-46.464844-9.828125-87.929688-33.785157-119.914063-69.277344zm0 0" fill="#fafafa"/><path d="m11.613281 182.082031c-15.480469 47.660157-15.484375 100.152344-.011719 147.8125 1.28125 3.945313 5.515626 6.097657 9.453126 4.816407 3.9375-1.277344 6.09375-5.511719 4.816406-9.449219-14.503906-44.671875-14.5-93.875.007812-138.546875 1.277344-3.9375-.878906-8.167969-4.816406-9.449219-3.933594-1.277344-8.171875.878906-9.449219 4.816406zm0 0" fill="#fafafa"/></svg>
								<h4>Website</h4>
							</a>
							<a :href="band.soundcloudUrl" target="_blank" class="soundcloud" v-if="band.soundcloudUrl"> 
								<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path d="M10.199,250.09C4.566,250.09,0,254.656,0,260.289v97.121c0,5.633,4.566,10.199,10.199,10.199    c5.633,0,10.199-4.566,10.199-10.199v-97.121C20.398,254.656,15.832,250.09,10.199,250.09z" fill="#fafafa"/><path d="M49.766,238.916c-5.633,0-10.199,4.566-10.199,10.199v118.663c0,5.633,4.566,10.199,10.199,10.199    s10.199-4.566,10.199-10.2V249.115C59.965,243.482,55.399,238.916,49.766,238.916z" fill="#fafafa"/><path d="M89.975,208.882c-5.633,0-10.199,4.566-10.199,10.199v150.066c0,5.633,4.566,10.199,10.199,10.199    c5.633,0,10.199-4.566,10.199-10.198V219.081C100.175,213.448,95.608,208.882,89.975,208.882z" fill="#fafafa"/><path d="M130.86,179.397c-5.633,0-10.199,4.566-10.199,10.199v179.533c0,5.633,4.566,10.199,10.199,10.199    s10.199-4.566,10.199-10.199V189.597C141.059,183.964,136.493,179.397,130.86,179.397z" fill="#fafafa"/><path d="M172.388,177.685c-5.633,0-10.199,4.566-10.199,10.199v181.3c0,5.633,4.566,10.199,10.199,10.199    c5.633,0,10.199-4.566,10.199-10.2V187.884C182.587,182.251,178.021,177.685,172.388,177.685z" fill="#fafafa"/><path d="M214.539,159.829c-5.633,0-10.199,4.566-10.199,10.199v199.361c0,5.633,4.566,10.199,10.199,10.199    c5.633,0,10.199-4.566,10.199-10.2v-199.36C224.738,164.395,220.172,159.829,214.539,159.829z" fill="#fafafa"/><path d="M438.257,230.703c-5.483,0-10.88,0.602-16.146,1.795c-4.906-25.833-17.856-49.457-37.216-67.513    c-22.626-21.1-52.055-32.721-82.865-32.721c-14.987,0-30.32,2.904-44.335,8.395c-3.089,1.207-12.488,4.881-12.61,16.958    c0,0.035,0,0.068,0,0.103v204.106c0,0.048,0.001,0.095,0.001,0.143c0.128,9.117,7.019,16.69,16.029,17.614    c0.042,0.005,0.084,0.009,0.126,0.012c1.078,0.097,175.262,0.138,177.017,0.138c40.661,0,73.742-33.43,73.741-74.522    C511.999,264.127,478.919,230.703,438.257,230.703z M438.258,359.337c-1.478,0-148.84-0.07-172.776-0.092h0.002V159.519    c11.579-4.486,24.207-6.855,36.547-6.855c53.2,0,96.831,40.465,101.487,94.126c0.281,3.257,2.108,6.181,4.91,7.863    c2.802,1.682,6.24,1.919,9.248,0.638c6.524-2.779,13.45-4.189,20.582-4.189c29.413,0,53.344,24.274,53.344,54.11    C491.602,335.057,467.671,359.337,438.258,359.337z" fill="#fafafa"/><path d="M394.709,329.434H288.637c-5.633,0-10.199,4.566-10.199,10.199c0,5.633,4.566,10.199,10.199,10.199h106.072    c5.633,0,10.199-4.566,10.199-10.199C404.908,334,400.342,329.434,394.709,329.434z" fill="#fafafa"/><path d="M436.526,329.434h-5.1c-5.633,0-10.199,4.566-10.199,10.199c0,5.633,4.566,10.199,10.199,10.199h5.1    c5.633,0,10.199-4.566,10.199-10.199C446.725,334,442.159,329.434,436.526,329.434z" fill="#fafafa"/></svg>
								<h4>Soundcloud</h4>
							</a>
							<a :href="band.bandcampUrl" target="_blank" class="bandcamp" v-if="band.bandcampUrl">
								<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path style="fill:none;stroke:#fafafa;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 217.54661,116.07948 269.84401,0 -129.59765,279.8418 H 24.609384 L 154.20703,116.07948 h 25.46129"/></svg>
								<h4>Bandcamp</h4>
							</a>
						</div>
					</div>

					<div class="detail-info description" v-if="band.history || band.foundingDate">
						<div class="category">
							<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path d="M504.5,89.232c-4.143,0-7.5,3.358-7.5,7.5V394.82H335.374c-23.984,0-41.758,5.845-52.828,17.372    c-6.208,6.464-8.956,13.444-10.167,18.607H239.8c-1.087-5.175-3.657-12.111-9.653-18.546    c-10.776-11.567-28.416-17.433-52.429-17.433H15V96.732c0-4.142-3.357-7.5-7.5-7.5S0,92.59,0,96.732V402.32    c0,4.142,3.357,7.5,7.5,7.5h170.218c19.209,0,33.465,4.294,41.227,12.417c6.927,7.249,6.645,15.284,6.635,15.532    c-0.146,2.076,0.575,4.12,1.994,5.642c1.419,1.523,3.406,2.388,5.487,2.388h45.877c2.042,0,3.997-0.787,5.411-2.259    c1.414-1.473,2.168-3.413,2.086-5.453c-0.006-0.341-0.043-8.431,7.175-15.758c8.061-8.184,22.503-12.509,41.764-12.509H504.5    c4.143,0,7.5-3.358,7.5-7.5V96.732C512,92.59,508.643,89.232,504.5,89.232z" fill="#f5504e"/><path d="M198.2,133.452c-2.319-3.432-6.981-4.335-10.413-2.016c-3.433,2.319-4.335,6.981-2.017,10.413    c5.221,7.727,7.98,16.763,7.98,26.132c0,25.777-20.971,46.748-46.747,46.748c-25.777,0-46.748-20.971-46.748-46.748    c0-25.777,20.971-46.747,46.748-46.747c6.714,0,13.192,1.391,19.253,4.134c3.779,1.71,8.218,0.033,9.926-3.741    c1.708-3.773,0.033-8.217-3.74-9.925c-8.019-3.628-16.577-5.468-25.439-5.468c-34.048,0-61.748,27.7-61.748,61.747    c0,34.048,27.7,61.748,61.748,61.748c34.048,0,61.747-27.7,61.747-61.748C208.75,155.607,205.102,143.668,198.2,133.452z" fill="#f5504e"/><path d="M172.255,160.482h-17.752v-0.001V142.73c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v17.752h-17.752    c-4.143,0-7.5,3.358-7.5,7.5c0,4.142,3.357,7.5,7.5,7.5h17.752v17.751c0,4.142,3.357,7.5,7.5,7.5s7.5-3.358,7.5-7.5v-17.751    h17.752c4.143,0,7.5-3.358,7.5-7.5C179.755,163.84,176.398,160.482,172.255,160.482z" fill="#f5504e"/><path d="M207.027,247.69H86.979c-4.143,0-7.5,3.358-7.5,7.5c0,4.142,3.357,7.5,7.5,7.5h120.048c4.143,0,7.5-3.358,7.5-7.5    C214.527,251.048,211.17,247.69,207.027,247.69z" fill="#f5504e"/><path d="M207.026,286.868H86.979c-4.143,0-7.5,3.358-7.5,7.5c0,4.142,3.357,7.5,7.5,7.5h120.048c4.142,0,7.499-3.358,7.499-7.5    C214.526,290.226,211.169,286.868,207.026,286.868z" fill="#f5504e"/><path d="M414.867,286.868h-99.74c-4.143,0-7.5,3.358-7.5,7.5c0,4.142,3.357,7.5,7.5,7.5h99.74c4.143,0,7.5-3.358,7.5-7.5    C422.367,290.226,419.01,286.868,414.867,286.868z" fill="#f5504e"/><path d="M397.295,192.875c-0.948-0.948-1.947-1.834-2.969-2.691c2.903-5.057,4.458-10.805,4.458-16.79v-21.359    c0-18.63-15.157-33.787-33.787-33.787c-18.63,0-33.787,15.157-33.787,33.787v21.359c0,5.985,1.555,11.734,4.46,16.792    c-10.234,8.591-16.347,21.365-16.347,34.986v30.912c0,4.142,3.358,7.5,7.5,7.5h76.349c4.143,0,7.5-3.358,7.5-7.5v-30.912    C410.672,212.972,405.921,201.502,397.295,192.875z M346.21,152.035c0-10.359,8.428-18.787,18.787-18.787    s18.787,8.428,18.787,18.787v21.359c0,4.984-1.928,9.678-5.402,13.188l-0.099,0.099c-3.104,3.104-7.104,4.987-11.419,5.41    c-0.617,0.06-1.24,0.091-1.867,0.091c-0.631,0-1.258-0.031-1.878-0.092c-3.721-0.367-7.209-1.822-10.093-4.212    c-0.479-0.397-0.942-0.82-1.386-1.268c-3.502-3.538-5.43-8.231-5.43-13.215V152.035z M395.674,248.584h-61.349v-23.412h-0.002    c0-9.38,4.311-18.173,11.505-23.942c0.042,0.029,0.086,0.053,0.128,0.081c0.61,0.418,1.233,0.814,1.866,1.189    c0.142,0.084,0.287,0.163,0.43,0.246c0.56,0.321,1.128,0.625,1.704,0.913c0.12,0.059,0.237,0.123,0.357,0.181    c0.662,0.32,1.334,0.614,2.015,0.889c0.161,0.065,0.324,0.126,0.486,0.189c0.617,0.238,1.24,0.46,1.87,0.661    c0.099,0.032,0.197,0.068,0.297,0.098c0.707,0.218,1.423,0.408,2.145,0.58c0.173,0.041,0.347,0.079,0.522,0.118    c0.684,0.151,1.372,0.285,2.067,0.394c0.061,0.01,0.121,0.022,0.182,0.032c0.743,0.112,1.494,0.192,2.249,0.255    c0.182,0.015,0.365,0.028,0.548,0.04c0.764,0.051,1.531,0.086,2.303,0.086c0.774,0,1.542-0.035,2.306-0.087    c0.18-0.012,0.359-0.025,0.538-0.039c0.754-0.062,1.505-0.143,2.249-0.255c0.072-0.011,0.143-0.026,0.215-0.037    c0.689-0.108,1.372-0.241,2.051-0.391c0.165-0.037,0.331-0.072,0.496-0.111c0.724-0.171,1.441-0.363,2.15-0.581    c0.109-0.034,0.217-0.073,0.326-0.108c0.632-0.202,1.257-0.424,1.876-0.663c0.145-0.056,0.291-0.11,0.435-0.168    c0.686-0.276,1.362-0.574,2.028-0.895c0.128-0.062,0.253-0.128,0.38-0.191c0.586-0.292,1.164-0.602,1.734-0.929    c0.12-0.069,0.241-0.134,0.36-0.204c0.637-0.376,1.262-0.776,1.875-1.195c0.052-0.035,0.107-0.065,0.159-0.101    c0.875,0.702,1.715,1.454,2.515,2.254c5.794,5.794,8.984,13.497,8.984,21.691V248.584z" fill="#f5504e"/><path d="M473.993,66.201h-176c-17.687,0-33.228,9.332-41.982,23.324c-2.744-4.397-6.185-8.39-10.265-11.799    c-8.875-7.432-20.146-11.524-31.738-11.524H38.006c-4.143,0-7.5,3.358-7.5,7.5v278.722c0,4.141,3.357,7.499,7.5,7.499h149.321    c16.563,0,28.827,3.657,35.467,10.575c5.603,5.838,5.615,12.292,5.598,13.009c-0.194,2.09,0.507,4.063,1.917,5.622    c1.422,1.57,3.451,2.359,5.569,2.359h20.074c0.016,0,0.032,0.003,0.048,0.003h20.123c2.042,0,3.995-0.833,5.409-2.305    c1.415-1.473,2.167-3.458,2.085-5.499c-0.003-0.065-0.002-6.779,5.824-12.846c6.857-7.139,19.37-10.913,36.189-10.913h148.363    c4.143,0,7.5-3.358,7.5-7.5V73.701C481.493,69.559,478.136,66.201,473.993,66.201z M466.494,344.927H325.631    c-21.301,0-37.116,5.223-47.008,15.523c-5.35,5.571-7.852,11.482-9.015,16.04H263.5v-24.063v-63.143c0-4.142-3.357-7.5-7.5-7.5    s-7.5,3.358-7.5,7.5v63.143v24.06h-5.934c-1.056-4.563-3.409-10.435-8.576-15.979c-9.636-10.341-25.336-15.584-46.663-15.584    H45.506V81.201h168.503c8.077,0,15.928,2.85,22.114,8.03c7.866,6.571,12.377,16.215,12.377,26.462v0.002v41.236v102.216    c0,4.142,3.357,7.5,7.5,7.5s7.5-3.358,7.5-7.5V156.931v-41.236c0-19.02,15.474-34.494,34.494-34.494h168.5V344.927z" fill="#f5504e"/></svg>
							<h4>Description /<br> History</h4>
						</div>
						<div class="category-content">
							<h4 class="founding-date" v-if="band.foundingDate">Founded in {{band.foundingDate}}</h4>
							<p>{{band.history}}</p>
						</div>
					</div>
				</md-tab>

				<md-tab md-label="Upcoming Events" :md-active="activeTab === 1" class="upcoming-tab">
					<div class="months" v-if="Object.keys(bandEvents).length > 0 ||  bandEvents.length > 0">
						<div v-for="(month, i) in bandEvents" :key="i">
							<h1>{{i}}</h1>
							<div class="month-cards">
								<md-card v-for="(event, j) in month" :key="j" md-with-hover>
									<router-link :to="`/${event.isFestival ?'festival' :'event'}/${event.url}`">
										<md-card-media>
											<img :src="`${baseUrl}/${event.image[1]}`" :alt="`Image for ${event.name}`">
										</md-card-media>
										<div class="card-content">
											<h2>{{event.name}}</h2>
											<p class="event-date">{{event.formattedDate}}</p>
											<p class="event-location" v-if="event.location">{{event.location.name}}, {{event.location.address.city}}</p>
										</div>
									</router-link>
								</md-card>
							</div>
						</div>
					</div>
					<div class="no-events" v-else>
						<h1>No Upcoming Events available.. :(</h1>
						<h2>Want to create one now? <router-link to="/new-band">Click Here</router-link></h2>
					</div>
				</md-tab>

				<md-tab md-label="Discography" v-if="band.recordLabel || (band.releases[0] &&  band.releases[0].releaseName != '')" :md-active="activeTab === 2" class="discography-tab">
					<div class="detail-info record-label" v-if="band.recordLabel">
						<div class="category">
							<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path d="m239.96875 95.160156h32.0625c4.144531 0 7.5-3.355468 7.5-7.5 0-4.140625-3.355469-7.5-7.5-7.5h-32.0625c-4.144531 0-7.5 3.359375-7.5 7.5 0 4.144532 3.355469 7.5 7.5 7.5zm0 0" fill="#ff5252"/><path d="m239.96875 135.242188h80.160156c4.140625 0 7.5-3.359376 7.5-7.5 0-4.140626-3.359375-7.5-7.5-7.5h-80.160156c-4.144531 0-7.5 3.359374-7.5 7.5 0 4.140624 3.355469 7.5 7.5 7.5zm0 0" fill="#ff5252"/><path d="m239.96875 175.324219h80.160156c4.140625 0 7.5-3.359375 7.5-7.5 0-4.144531-3.359375-7.5-7.5-7.5h-80.160156c-4.144531 0-7.5 3.355469-7.5 7.5 0 4.140625 3.355469 7.5 7.5 7.5zm0 0" fill="#ff5252"/><path d="m120.242188 223.9375c0 4.140625 3.359374 7.5 7.5 7.5h184.371093c4.140625 0 7.5-3.359375 7.5-7.5 0-4.144531-3.359375-7.5-7.5-7.5h-184.371093c-4.140626 0-7.5 3.355469-7.5 7.5zm0 0" fill="#ff5252"/><path d="m127.742188 256.515625c-4.140626 0-7.5 3.359375-7.5 7.5s3.359374 7.5 7.5 7.5h160.320312c4.144531 0 7.5-3.359375 7.5-7.5s-3.355469-7.5-7.5-7.5zm0 0" fill="#ff5252"/><path d="m127.742188 311.597656h144.289062c4.144531 0 7.5-3.359375 7.5-7.5 0-4.144531-3.355469-7.5-7.5-7.5h-144.289062c-4.140626 0-7.5 3.355469-7.5 7.5 0 4.140625 3.359374 7.5 7.5 7.5zm0 0" fill="#ff5252"/><path d="m122.4375 173.125c1.464844 1.464844 3.386719 2.199219 5.304688 2.199219 1.917968 0 3.839843-.734375 5.304687-2.199219l63.609375-63.613281-4.167969 25.011719c-.679687 4.085937 2.078125 7.953124 6.164063 8.632812.417968.070312.832031.101562 1.242187.101562 3.601563 0 6.78125-2.597656 7.390625-6.265624l8.015625-48.097657c.398438-2.390625-.382812-4.824219-2.09375-6.535156-1.714843-1.714844-4.148437-2.492187-6.535156-2.097656l-48.097656 8.015625c-4.085938.683594-6.847657 4.546875-6.167969 8.632812.683594 4.085938 4.542969 6.847656 8.632812 6.164063l25.011719-4.167969-63.613281 63.613281c-2.925781 2.929688-2.925781 7.675781 0 10.605469zm0 0" fill="#ff5252"/><path d="m478.847656 127.160156c-1.890625-5.996094-6-10.894531-11.574218-13.800781l-7.566407-3.945313.238281-.457031c2.90625-5.574219 3.464844-11.945312 1.578126-17.941406-1.886719-5.996094-6-10.894531-11.574219-13.800781-11.503907-5.996094-25.746094-1.511719-31.742188 9.996094l-2.605469 5.003906c-1.914062 3.671875-.488281 8.203125 3.183594 10.117187 3.675782 1.914063 8.203125.488281 10.117188-3.1875l2.609375-5.003906c2.171875-4.171875 7.335937-5.796875 11.507812-3.621094 2.023438 1.050781 3.511719 2.828125 4.195313 5.003907.683594 2.171874.480468 4.484374-.570313 6.503906l-26.167969 50.21875-15.132812-7.882813 9.617188-18.457031c1.910156-3.671875.484374-8.203125-3.1875-10.117188-3.675782-1.910156-8.203126-.484374-10.117188 3.1875l-9.898438 18.996094v-50.3125c0-1.988281-.789062-3.894531-2.195312-5.300781l-80.164062-80.164063c-1.40625-1.40625-3.3125-2.195312-5.300782-2.195312h-240.484375c-4.140625 0-7.5 3.359375-7.5 7.5v48.613281h-48.613281c-4.140625 0-7.5 3.359375-7.5 7.5v440.886719c0 4.144531 3.359375 7.5 7.5 7.5h320.644531c4.140625 0 7.5-3.355469 7.5-7.5v-48.613281h48.613281c4.140626 0 7.5-3.359375 7.5-7.5v-144.289063c0-4.144531-3.359374-7.5-7.5-7.5-4.140624 0-7.5 3.355469-7.5 7.5v136.789063h-305.644531v-425.886719h225.484375v72.660156c0 4.144532 3.355469 7.5 7.5 7.5h72.660156v71.597656l-73.378906 140.832032c-.441406.84375-.714844 1.769531-.8125 2.71875l-4.160156 41.515625-4.636719 8.902343h-21.738281c-1.988281 0-3.894531.789063-5.300781 2.195313l-10.730469 10.730469-22.753906-22.753906c-2.929688-2.929688-7.675782-2.929688-10.605469 0l-20.039063 20.039062c-2.929687 2.929688-2.929687 7.679688 0 10.605469 2.929688 2.929687 7.675782 2.929687 10.605469 0l14.738281-14.734375 22.75 22.75c1.40625 1.410156 3.316407 2.199218 5.304688 2.199218s3.898438-.789062 5.304688-2.199218l13.832031-13.835938s22.804687.003906 23.175781.003906c2.707031 0 5.320312-1.472656 6.65625-4.039062l6.742188-12.933594 31.644531-27.195312c.722656-.625 1.320312-1.378906 1.761719-2.222656l107.660156-206.617188 7.566406 3.941406c2.019531 1.054688 3.511719 2.828125 4.195312 5.003906.683594 2.175782.480469 4.484376-.574218 6.503907l-37.039063 71.089843c-1.914062 3.675782-.488281 8.203126 3.183594 10.117188 1.109375.578125 2.292969.851562 3.460937.851562 2.707032 0 5.320313-1.46875 6.65625-4.035156l37.042969-71.089844c2.90625-5.574218 3.464844-11.945312 1.578125-17.941406zm-158.203125 328.726563v41.113281h-305.644531v-425.886719h41.113281v377.273438c0 4.140625 3.359375 7.5 7.5 7.5zm92.898438-290.335938-7.882813 15.132813-15.132812-7.886719 7.882812-15.132813zm-74.558594 143.09375-15.132813-7.882812 59.742188-114.660157 15.132812 7.882813zm-27.386719-283.039062 54.554688 54.554687h-54.554688zm5.652344 288.628906 14.472656 7.542969-16.664062 14.320312zm0 0" fill="#ff5252"/></svg>
							<h4>Label</h4>
						</div>
						<div class="category-content">
							<p>{{band.recordLabel}}</p>
						</div>
					</div>

					<div class="detail-info releases" v-if="band.releases[0] && band.releases[0].releaseName != ''">
						<div class="category">
							<svg width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path d="m356.703125 397.109375c-32.019531 29.34375-73.59375 45.5-117.058594 45.5-4.148437 0-7.507812 3.363281-7.507812 7.511719 0 4.144531 3.359375 7.507812 7.507812 7.507812 47.230469 0 92.410157-17.5625 127.207031-49.449218 34.578126-31.683594 56-74.75 60.320313-121.265626.382813-4.128906-2.652344-7.785156-6.785156-8.167968-4.113281-.40625-7.785157 2.652344-8.167969 6.78125-3.976562 42.792968-23.691406 82.421875-55.515625 111.582031zm0 0" fill="#ff5252"/><path d="m419.988281 263.507812c.183594 0 .367188-.003906.550781-.019531 4.136719-.300781 7.246094-3.894531 6.945313-8.03125-1.214844-16.710937-4.644531-33.152343-10.191406-48.871093-1.378907-3.910157-5.667969-5.960938-9.578125-4.582032-3.914063 1.382813-5.964844 5.671875-4.582032 9.582032 5.101563 14.457031 8.257813 29.585937 9.371094 44.960937.289063 3.949219 3.585938 6.960937 7.484375 6.960937zm0 0" fill="#ff5252"/><path d="m239.066406 400.597656c-4.148437 0-7.507812 3.359375-7.507812 7.507813 0 4.148437 3.359375 7.507812 7.507812 7.507812 81.132813 0 147.140625-66.007812 147.140625-147.140625 0-16.410156-2.683593-32.527344-7.976562-47.902344-1.351563-3.921874-5.617188-6.007812-9.546875-4.65625-3.917969 1.347657-6.003906 5.621094-4.652344 9.542969 4.75 13.800781 7.15625 28.273438 7.15625 43.015625 0 72.855469-59.269531 132.125-132.121094 132.125zm0 0" fill="#ff5252"/><path d="m299.148438 107.601562c3.90625 1.382813 8.199218-.671874 9.578124-4.582031 1.378907-3.910156-.671874-8.199219-4.582031-9.578125-20.097656-7.097656-41.195312-10.695312-62.699219-10.695312-103.851562 0-188.339843 84.492187-188.339843 188.339844 0 4.148437 3.359375 7.511718 7.507812 7.511718 4.148438 0 7.507813-3.363281 7.507813-7.511718 0-95.570313 77.753906-173.320313 173.324218-173.320313 19.796876 0 39.210938 3.308594 57.703126 9.835937zm0 0" fill="#ff5252"/><path d="m102.628906 279.175781c4.144532 0 7.507813-3.363281 7.507813-7.511719 0-72.851562 59.269531-132.121093 132.121093-132.121093 14.742188 0 29.214844 2.410156 43.019532 7.160156 3.921875 1.347656 8.191406-.738281 9.542968-4.660156 1.347657-3.917969-.738281-8.191407-4.65625-9.542969-15.378906-5.289062-31.496093-7.972656-47.90625-7.972656-81.132812 0-147.140624 66.003906-147.140624 147.136718 0 4.148438 3.363281 7.511719 7.511718 7.511719zm0 0" fill="#ff5252"/><path d="m414.304688 112.730469c-3.144532 2.703125-3.503907 7.445312-.800782 10.589843 35.191406 40.960938 54.574219 93.300782 54.574219 147.382813 0 60.441406-23.539063 117.265625-66.277344 160.003906s-99.5625 66.273438-160.003906 66.273438c-50.828125 0-98.84375-16.457031-138.855469-47.597657-3.273437-2.546874-7.988281-1.957031-10.535156 1.3125-2.546875 3.273438-1.960938 7.992188 1.3125 10.539063 42.671875 33.210937 93.878906 50.765625 148.078125 50.765625 64.453125 0 125.050781-25.097656 170.625-70.675781 45.574219-45.574219 70.671875-106.167969 70.671875-170.621094 0-57.671875-20.667969-113.488281-58.199219-157.167969-2.703125-3.144531-7.445312-3.507812-10.589843-.804687zm0 0" fill="#ff5252"/><path d="m241.796875 323.644531c29.191406 0 52.941406-23.75 52.941406-52.941406s-23.75-52.941406-52.941406-52.941406-52.941406 23.75-52.941406 52.941406 23.75 52.941406 52.941406 52.941406zm0-90.863281c20.910156 0 37.925781 17.011719 37.925781 37.921875 0 20.914063-17.015625 37.925781-37.925781 37.925781s-37.925781-17.011718-37.925781-37.925781c0-20.910156 17.015625-37.921875 37.925781-37.921875zm0 0" fill="#ff5252"/><path d="m54.53125 418.1875c1.566406 0 3.144531-.488281 4.496094-1.5 3.316406-2.484375 3.992187-7.191406 1.507812-10.511719-29.449218-39.339843-45.019531-86.1875-45.019531-135.472656 0-60.441406 23.539063-117.265625 66.277344-160.003906s99.5625-66.273438 160.003906-66.273438c46.703125 0 91.535156 14.109375 129.648437 40.800781 3.398438 2.382813 8.082032 1.554688 10.460938-1.84375 2.378906-3.398437 1.550781-8.078124-1.84375-10.457031-40.652344-28.46875-88.464844-43.519531-138.265625-43.519531-64.453125 0-125.050781 25.101562-170.625 70.675781s-70.671875 106.167969-70.671875 170.621094c0 52.558594 16.601562 102.515625 48.015625 144.476563 1.472656 1.96875 3.730469 3.007812 6.015625 3.007812zm0 0" fill="#ff5252"/><path d="m241.796875 359.722656c49.085937 0 89.015625-39.933594 89.015625-89.019531 0-49.082031-39.929688-89.015625-89.015625-89.015625-18.273437 0-35.832031 5.496094-50.78125 15.894531-14.601563 10.160157-25.722656 24.253907-32.167969 40.761719-1.511718 3.863281.398438 8.21875 4.261719 9.726562 3.867187 1.507813 8.21875-.402343 9.726563-4.265624 11.171874-28.613282 38.238281-47.101563 68.960937-47.101563 40.804687 0 74 33.199219 74 74 0 40.804687-33.195313 74-74 74-40.800781 0-74-33.195313-74-74 0-4.148437-3.359375-7.507813-7.507813-7.507813-4.148437 0-7.507812 3.359376-7.507812 7.507813 0 49.085937 39.933594 89.019531 89.015625 89.019531zm0 0" fill="#ff5252"/><path d="m105.417969 388.902344c2.832031.761718 5.757812 1.546875 9.109375 2.972656 12.152344 5.152344 12.03125 26.820312 12.027344 27.160156-.109376 4.136719 3.152343 7.582032 7.292968 7.699219.074219 0 .144532.003906.214844.003906 4.050781 0 7.386719-3.226562 7.503906-7.300781.035156-1.304688.648438-32.132812-21.171875-41.390625-4.3125-1.828125-7.90625-2.792969-11.074219-3.648437-8.640624-2.324219-13.863281-3.730469-26.957031-27.28125-1.734375-2.933594-5.046875-4.535157-8.421875-3.703126-3.3125.816407-5.757812 3.945313-5.691406 7.375v102.316407c-4.308594-2.449219-9.285156-3.859375-14.585938-3.859375-16.324218 0-29.601562 13.28125-29.601562 29.605468 0 16.320313 13.28125 29.601563 29.601562 29.601563 16.324219 0 29.605469-13.28125 29.605469-29.601563v-103.273437c7.707031 8.925781 14.078125 11.15625 22.148438 13.324219zm-51.753907 104.535156c-8.042968 0-14.585937-6.542969-14.585937-14.585938 0-8.042968 6.542969-14.585937 14.585937-14.585937 8.042969 0 14.585938 6.542969 14.585938 14.585937 0 8.042969-6.542969 14.585938-14.585938 14.585938zm0 0" fill="#ff5252"/><path d="m510.363281 129.3125-.109375-117.664062c-.003906-3.414063-1.496094-6.644532-4.097656-8.859376-2.597656-2.21875-6.027344-3.179687-9.394531-2.644531l-95.257813 15.164063c-5.695312.910156-9.828125 5.753906-9.824218 11.527344l.082031 89.128906c-4.003907-2.101563-8.480469-3.21875-13.128907-3.21875-.011718 0-.019531 0-.027343 0-15.621094.015625-28.3125 12.730468-28.300781 28.351562.015624 15.609375 12.71875 28.296875 28.324218 28.296875h.027344c7.566406-.007812 14.675781-2.960937 20.019531-8.316406 5.347657-5.355469 8.285157-12.46875 8.28125-20.035156-.003906-.984375-.257812-111.355469-.257812-111.355469l88.539062-14.09375.085938 88.738281c-3.964844-2.113281-8.488281-3.320312-13.285157-3.320312-.007812 0-.015624 0-.023437 0-7.566406.007812-14.675781 2.960937-20.023437 8.316406-5.34375 5.355469-8.28125 12.472656-8.277344 20.035156.007812 7.566407 2.960937 14.675781 8.316406 20.023438 5.347656 5.335937 12.453125 8.277343 20.007812 8.277343h.027344c7.566406-.007812 14.675782-2.960937 20.019532-8.316406 5.34375-5.351562 8.285156-12.46875 8.277343-20.035156zm-122.316406 21.15625c-4.078125 4.089844-10.53125 5.074219-15.640625 2.367188-5.101562-2.699219-7.921875-8.558594-6.851562-14.230469.910156-4.835938 4.558593-8.878907 9.273437-10.289063 5.339844-1.59375 11.269531.402344 14.554687 4.914063 3.796876 5.214843 3.226563 12.671875-1.335937 17.238281zm94.003906-7.824219c-.003906 0-.007812 0-.011719 0-7.332031 0-13.300781-5.960937-13.308593-13.292969-.003907-7.335937 5.957031-13.3125 13.296875-13.320312h.011718c7.332032 0 13.296876 5.964844 13.304688 13.296875.007812 7.335937-5.957031 13.3125-13.292969 13.316406zm0 0" fill="#ff5252"/></svg>
							<h4>Releases</h4>
						</div>
						<div class="category-content">
							<div v-for="(release, index) in band.releases.reverse()" :key="index">
								<span class="release-year">{{release.releaseYear}}</span>
								<span class="release-name">{{release.releaseName}}</span>
							</div>
						</div>
					</div>
				</md-tab>

				<!-- <md-tab md-label="Past Events" :md-active="activeTab === 3"></md-tab> -->
			</md-tabs>

			<md-dialog ref="editBandDialog" slot="edit-dialogs">
				<band-form 
					:data="JSON.parse(JSON.stringify(band))" 
					v-model="bandImage" 
					canSubmit 
					v-on:submit="updateBand" 
					v-on:close="$refs.editBandDialog.close()">
					<h1 slot="headline">Edit Band</h1>
				</band-form>
			</md-dialog>
		</detail-page>
	</div>
</template>

<script>
import { removeEmptyObjectFields, sortEventsByMonth } from '@/helpers/array-object-helpers.js';

import BandForm from '@/components/ContentForms/BandForm';
import DetailPage from '@/components/SingleContentPages/DetailPage';

import { backendUrl, imageUrl } from '@/secrets.js';
import moment from 'moment';

export default {
	name: 'band-page',
	components: {
		BandForm,
		DetailPage
	},
	watch: {
		$route() {
			if(this.$route.params.url != this.band.url)
				this.getBandByUrl();
		}
	},
	computed: {
		band() {
			return JSON.parse(JSON.stringify(this.$store.getters.currentBand));
		},
		baseUrl() {
			return imageUrl;
		}
	},
	data() {
		return {
			bandEvents: [],
			showEventData: {},
			submitStatus: '',
			isAuthenticated: false,
			eventLimiter: 3,
			loading: false,
			activeTab: 0,
			bandImage: '',
			previousImage: ''
		}
	},
	methods: {
		openDialog(ref) {
			this.$refs[ref].open();
		},
		//Function for giving the Single-Event dialog the data of the clicked event and opening it.
		showEvent(event) {
			if(!event.isFestival) {
				this.$store.commit('setCurrentEvent', event);
				this.$router.push({path: `/event/${event.url}`});
			}
			else {
				this.$router.push({path: `/festival/${event.url}`});
			}
		},
		updateBand(data) {
			this.$refs.editBandDialog.close();

			this.loading = true;

			removeEmptyObjectFields(data);
			
			let formData = new FormData();
			if(this.bandImage != this.previousImage) {
				if(this.bandImage != null) formData.append('image', this.bandImage);
				else this.band.image = [];
			}
			formData.append('data', JSON.stringify(data));

			this.$http.put(backendUrl + `/api/bands/${data._id}`, formData)
				.then(response => {
					this.getCurrentBand('Band successfully updated!');
				})
				.catch(err =>  {
					this.submitStatus = err.body.message;
					this.$children[0].$refs.snackbar.open();
				});
		},
		getCurrentBand(message = '') {
			this.loading = true;

			this.$http.get(`${backendUrl}/api/bands/byid/${this.band._id}`)
				.then(response => {
					this.loading = false;
					if(response.body.data) {
						if(message != '') {
							this.submitStatus = message;
							this.$children[0].$refs.snackbar.open();
						}

						this.$store.commit('setCurrentBand', response.body.data);
						this.$router.push({path: `/band/${response.body.data.url}`});
						document.title = this.band.name + ' | AWAY FROM LIFE STREETS';
					}
				})
				.catch(err => {
					this.loading = false;
					this.submitStatus = err.body.message;
					this.$children[0].$refs.snackbar.open();
				});
		},
		getBandEvents() {
			this.loading = true;
			this.bandEvents = [];
			this.$http.get(`${backendUrl}/api/bands/${this.band._id}/upcomingEvents`)
			.then(response => {
				if(!response.body.message) {
					this.bandEvents = response.body.data;
					if(this.bandEvents) {
						for(let event of this.bandEvents) {
							event.formattedDate = moment(event.date).format('LL');
							event.formattedTime = moment(event.date).format('HH:mm');
						}
					}

					this.bandEvents = sortEventsByMonth(this.bandEvents);

					this.eventLimiter = this.bandEvents.length>=3 ?3 :this.bandEvents.length;
				}
				this.loading = false;
			})
			.catch(err => {
				this.loading = false;
			});
		},
		getBandByUrl() {
			this.loading = true;

			this.$http.get(backendUrl + '/api/bands/byurl/' + this.$route.params.url)
				.then(response => {
					if(response.body.data) {
						this.loading = false;
						this.$store.commit('setCurrentBand', JSON.parse(JSON.stringify(response.body.data)));
						this.previousImage = `${imageUrl}/${this.band.image[2]}`;
						this.bandImage = `${imageUrl}/${this.band.image[2]}`;
						this.getBandEvents();
						document.title = this.band.name + ' | AWAY FROM LIFE STREETS';
					}
				})
				.catch(err => this.$router.push('/not-found'));
		},
		handleTabChange(tab) {			
			if(tab === 0)
				this.$router.replace({query: { tab: 'information'}});
			else if(tab === 1)
				this.$router.replace({query: { tab: 'upcoming-events'}});
			else if(tab === 2)
				this.$router.replace({query: { tab: 'discography'}});
			else
				this.$router.replace({query: { tab: 'past-events'}});
			this.activeTab = tab;
		}, 
		checkQuery() {
			let queryTab = this.$route.query.tab;
			if(queryTab) {				
				if(queryTab === 'information')
					this.activeTab = 0;
				else if(queryTab === 'upcoming-events')
					this.activeTab = 1;
				if(queryTab === 'discography')
					this.activeTab = 2;
				else
					this.activeTab = 3;
			}
			
		}
	},
	created() {
		console.log("tab in query: " , this.$route.query.tab);
		if(this.$route.query.tab)
			this.checkQuery();
		
	},
	mounted() {
		console.log("tab in query: " , this.$route.query.tab);
		// document.getElementById('topbar').classList.add('single-page');

		if(this.$store.getters.currentBand.name == ''  || this.$store.getters.currentBand.url != this.$route.params.url) {
			this.getBandByUrl();
		}
		else {
			this.getBandEvents();
			this.previousImage = `${imageUrl}/${this.band.image[2]}`;
			this.bandImage = `${imageUrl}/${this.band.image[2]}`;
			document.title = this.band.name + ' | AWAY FROM LIFE STREETS';
		}
	}
}
</script>

<style lang="scss">
	@import "src/scss/SingleContentPages/_bandPage.scss";
</style>
